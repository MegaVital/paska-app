(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){},266:function(e,t,a){e.exports=a(434)},268:function(e,t,a){},318:function(e,t){},320:function(e,t){},331:function(e,t){},333:function(e,t){},361:function(e,t){},363:function(e,t){},364:function(e,t){},369:function(e,t){},371:function(e,t){},377:function(e,t){},379:function(e,t){},398:function(e,t){},410:function(e,t){},413:function(e,t){},434:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(39),l=(a(268),function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,500)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)})}),o=a(16);!function(e){e.LOGIN="/",e.REGISTRATION="/registration",e.CATALOGUE="/catalogue",e.ORDER="/order",e.PRODUCT="/product"}(n||(n={}));var u=a(35),s=a.n(u),d=a(60),m=a(55),p=a(13),f=a(10),h=a(532),g=a(515),E=a(522),x=a(533),b=a(512),y=a(502),v=a(517),w=a(521),k=a(514),O=(a(121),a(435)),j=a(524),C=a(525),S=a(526),P=a(501),T=a(527),I=a(291),R=a.n(I),A=a(94),L=function(){return Object(A.b)()},M=A.c,z=a(282),D=a(283),W=a(470),B=(Object(r.createContext)({toggleColorMode:function(){}}),function(e){return{palette:Object(d.a)({mode:e},"light"===e?{primary:z.a,text:{secondary:D.a[600]},background:{paper:"#f5f5f5"}}:{primary:W.a,text:{secondary:"#fff"}})}}),N=function(e,t,a){return t?e?"remove":"reduceQuantity":-1===a?"create":"addQuantity"};var F=[{name:"Brand",contain:["Ikea","Star","Mriya"]},{name:"Size",contain:["small","medium","big"]},{name:"Material",contain:["wood","metal","plastic","leather","glass"]},{name:"Price",contain:[]}],q=function(e){var t=e.title,a=e.description,n=e.brand,r=e.price,c=e.material,l=e.changeTotalValue,o=e.id,u=e.image,s=e.goProduct,d=e.itemTotalPrice,m=M(function(e){return e.persistedReducer.themeSlice.mode}),p=M(function(e){var t=e.persistedReducer.cartSlice.find(function(e){return e.id===o});return t?t.quantity:0}),f=Object(O.a)(B(m));return i.a.createElement(j.a,{raised:!0,variant:"elevation",sx:{width:"250px",height:"500px"}},i.a.createElement(C.a,{onClick:function(){s(o)},sx:{justifyContent:"center"}},i.a.createElement(k.a,null,i.a.createElement("img",{id:"base64image",width:200,height:200,src:u}))),i.a.createElement(S.a,null,i.a.createElement(w.a,{style:{fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t),i.a.createElement(w.a,{style:{fontWeight:"bold",fontSize:13,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",marginBottom:4}},"by ",n),i.a.createElement(P.a,{title:a},i.a.createElement(w.a,{sx:{color:f.palette.text.secondary},style:{fontSize:11,overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical",display:"-webkit-inline-box"}},a)),i.a.createElement(w.a,{sx:{color:f.palette.text.secondary},style:{fontSize:14,overflow:"hidden",WebkitLineClamp:1,WebkitBoxOrient:"vertical",display:"-webkit-inline-box"}},"Material: ",c.join(", ")),i.a.createElement(w.a,{sx:{fontWeight:"bold",color:f.palette.primary.main}},r,"$")),i.a.createElement(S.a,null,i.a.createElement(C.a,{sx:{justifyContent:"center"}},p>0?i.a.createElement(E.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement(k.a,{variant:"contained",size:"small",sx:{p:0,m:2},onClick:function(){l(o,!1)}},"+"),i.a.createElement(E.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:12}},i.a.createElement("span",null,p),i.a.createElement("span",null,d(o),"$")),i.a.createElement(k.a,{variant:"contained",size:"small",sx:{p:0,m:2},onClick:function(){l(o,!0)}},"-")):i.a.createElement(P.a,{title:"Add to cart",placement:"top"},i.a.createElement(T.a,{sx:{color:f.palette.primary.main},onClick:function(){l(o,!1)},"aria-label":"add to shopping cart"},i.a.createElement(R.a,null))))))},G=(a(71),a(38)),Q=Object(G.b)({name:"cart",initialState:[],reducers:{addItemToCart:function(e,t){e.push({id:t.payload.id,quantity:t.payload.quantity})},addQuantity:function(e,t){e[t.payload.index].quantity+=1},deleteItemFromCart:function(e,t){e.splice(t.payload.index,1)},reduceQuantity:function(e,t){e[t.payload.index].quantity-=1},deleteItem:function(e){e.shift()},clearCartSlice:function(e){e.length=0}}}),Z=Q.actions,$=Z.addItemToCart,U=Z.deleteItemFromCart,V=Z.addQuantity,Y=Z.reduceQuantity,_=Z.deleteItem,K=Z.clearCartSlice,J=Q.reducer,H={Brand:[],Size:[],Material:[]},X={data:[],filter:H,price:[],search:"",sort:""},ee=Object(G.b)({name:"data",initialState:X,reducers:{addData:function(e,t){e.data=Object(p.a)(t.payload);var a=Math.max.apply(Math,Object(p.a)(t.payload.map(function(e){return e.price}))),n=Math.min.apply(Math,Object(p.a)(t.payload.map(function(e){return e.price})));e.price=[n,a]},addFilter:function(e,t){e.filter[t.payload.propertyName].includes(t.payload.containName)?e.filter[t.payload.propertyName].splice(e.filter[t.payload.propertyName].indexOf(t.payload.containName),1):e.filter[t.payload.propertyName].push(t.payload.containName)},addPrice:function(e,t){e.price=Object(p.a)(t.payload)},filterShift:function(e){e.filter=H,e.price=[Math.min.apply(Math,Object(p.a)(e.data.map(function(e){return e.price}))),Math.max.apply(Math,Object(p.a)(e.data.map(function(e){return e.price})))]},searchTitleReducer:function(e,t){e.search=t.payload},clearDataSlice:function(e){e.filter=H,e.sort="",e.price=[Math.min.apply(Math,Object(p.a)(e.data.map(function(e){return e.price}))),Math.max.apply(Math,Object(p.a)(e.data.map(function(e){return e.price})))],e.search="",e.data.length=0}}}),te=ee.actions,ae=te.addData,ne=te.addFilter,re=te.addPrice,ie=te.filterShift,ce=te.searchTitleReducer,le=te.clearDataSlice,oe=ee.reducer,ue=a(508),se=a(528),de=a(529),me=a(509),pe=a(492),fe=a(530),he=a(531),ge=a(504),Ee=a(505),xe=a(153),be=a.n(xe),ye=function(){var e=L(),t=M(function(e){return e.persistedReducer.dataSlice.data}),a=M(function(e){return e.persistedReducer.dataSlice.filter}),n=M(function(e){return e.persistedReducer.dataSlice.price}),c=t.map(function(e){return e.price}),l=Math.max.apply(Math,Object(p.a)(c)),o=Math.min.apply(Math,Object(p.a)(c)),u=Object(r.useState)(n),s=Object(f.a)(u,2),d=s[0],m=s[1];return i.a.createElement(E.a,null,F.map(function(t){return"Brand"===t.name||"Size"===t.name||"Material"===t.name?i.a.createElement(j.a,{raised:!0,sx:{display:"inherit",justifyContent:"left",margin:3,padding:3},key:t.name},i.a.createElement(ue.a,{sx:{display:"contents"}},i.a.createElement(se.a,{expandIcon:i.a.createElement(be.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},i.a.createElement(de.a,null,i.a.createElement(me.a,{disablePadding:!0},i.a.createElement(pe.a,{primary:t.name})))),t.contain.map(function(n){return i.a.createElement(fe.a,{key:n},i.a.createElement(he.a,{label:n,control:i.a.createElement(ge.a,{checked:a[t.name].includes(n),onChange:function(){return a=n,r=t.name,void e(ne({containName:a,propertyName:r}));var a,r}})}))}))):null}),i.a.createElement(j.a,{raised:!0,sx:{display:"inherit",margin:3,padding:3}},i.a.createElement(ue.a,{sx:{display:"contents"}},i.a.createElement(se.a,{expandIcon:i.a.createElement(be.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},i.a.createElement(de.a,null,i.a.createElement(me.a,{disablePadding:!0},i.a.createElement(pe.a,null,"Price")))),i.a.createElement(fe.a,null,i.a.createElement(Ee.a,{disableSwap:!0,getAriaLabel:function(){return"Price"},valueLabelDisplay:"on",min:o,max:l,onChange:function(e,t){m(t)},value:d}),i.a.createElement(k.a,{variant:"contained",color:"primary",size:"medium",onClick:function(){e(re(d))},sx:{width:"30px",justifySelf:"right"}},"Apply")))),i.a.createElement(g.a,{sx:{mt:2,ml:3}},i.a.createElement(k.a,{variant:"contained",size:"medium",onClick:function(){e(ie()),m([o,l])}},"Clear filter")))},ve=Object(G.b)({name:"token",initialState:{id:"",name:"",currentToken:"",isAuth:!1},reducers:{addToken:function(e,t){e.id=t.payload.id,e.name=t.payload.name,e.currentToken=t.payload.currentToken,e.isAuth=t.payload.isAuth},deleteToken:function(e){e.id="",e.name="",e.currentToken="",e.isAuth=!1}}}),we=ve.actions,ke=we.addToken,Oe=we.deleteToken,je=ve.reducer,Ce=a(92),Se=a.n(Ce),Pe=Object(G.b)({name:"page",initialState:{page:1,items:4},reducers:{currentPage:function(e,t){e.page=t.payload},itemsPerPage:function(e,t){e.items=t.payload}}}),Te=Pe.actions,Ie=Te.currentPage,Re=Te.itemsPerPage,Ae=Pe.reducer,Le=function(e){var t=e.contentPerPage,a=e.count,n=Object(r.useState)(1),i=Object(f.a)(n,2),c=i[0],l=i[1],u=L(),s=M(function(e){return e.persistedReducer.pageSlice.page}),d=Object(o.g)(),m=Math.ceil(a/t),p=s*t,h=function(e){var t=function(){return e?s===m?s:s+1:1===s?s:s-1};u(Ie(t())),d("/catalogue/page=".concat(t()))};return{totalPages:m,nextPage:function(){return h(!0)},prevPage:function(){return h(!1)},setPage:function(e){l(e>m?m:e<1?1:e),u(Ie(e)),d("/catalogue/page=".concat(e))},firstContentIndex:p-t,lastContentIndex:p,page:c}},Me=a(235),ze=a.n(Me),De=a(234),We=a.n(De),Be=function(){var e=Object(o.g)(),t=M(function(e){return e.persistedReducer.cartSlice}),a=M(function(e){return e.persistedReducer.dataSlice.data});return i.a.createElement(T.a,{"aria-label":"cart",onClick:function(){e(n.ORDER)}},i.a.createElement(We.a,{color:"action",fontSize:"large",sx:{mr:2}}),i.a.createElement(w.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:"flex",width:"70px"}},function(){var e=0;return t.forEach(function(t){var n=a.find(function(e){return e.id===t.id});n&&t.quantity&&(e+=n.price*t.quantity)}),0===e?"Empty":e+" $"}()))},Ne=function(){var e=Object(o.g)(),t=L(),a=M(function(e){return e.persistedReducer.cartSlice}),n=M(function(e){return e.persistedReducer.dataSlice}),c=n.data,l=n.search,u=M(function(e){return e.persistedReducer.tokenSlice.currentToken}),O=M(function(e){return e.persistedReducer.dataSlice.filter}),j=M(function(e){return e.persistedReducer.tokenSlice}),C=M(function(e){return e.persistedReducer.pageSlice}),S=C.page,P=C.items,T=Object(r.useState)(""),I=Object(f.a)(T,2),R=I[0],A=I[1],z=M(function(e){var t=e.persistedReducer.dataSlice,a=t.filter,n=t.data,r=t.price;return 0!==a.Size.length||0!==a.Material.length||0!==a.Brand.length||r[0]!==Math.min.apply(Math,Object(p.a)(n.map(function(e){return e.price})))||r[1]!==Math.max.apply(Math,Object(p.a)(n.map(function(e){return e.price})))||l||""!==R?n.filter(function(e){if((a.Brand.includes(e.brand)||0===a.Brand.length)&&(a.Size.includes(e.size)||0===a.Size.length)&&e.price>=r[0]&&e.price<=r[1]&&function(e,t){if(0===e.length)return!0;var a=!1;return e.forEach(function(e){t.includes(e)&&(a=!0)}),a}(a.Material,e.material)&&(e.title.toLocaleLowerCase().includes(l.toLocaleLowerCase())||e.brand.toLocaleLowerCase().includes(l.toLocaleLowerCase())||e.material.toString().toLocaleLowerCase().includes(l.toLocaleLowerCase())||e.size.toLocaleLowerCase().includes(l.toLocaleLowerCase())))return e}).sort(function(e,t){return"fromCheap"===R?e.price-t.price:"fromExp"===R?t.price-e.price:e.title>t.title&&"fromZtoA"===R?-1:t.title>e.title&&"fromAtoZ"===R?-1:0}):n}),D=Le({contentPerPage:P,count:z.length}),W=D.firstContentIndex,B=D.lastContentIndex,F=D.nextPage,G=D.prevPage,Q=D.setPage,Z=D.totalPages,_=Object(r.useState)(!1),K=Object(f.a)(_,2),J=K[0],H=K[1],X=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:H(!0),Se.a.get("http://localhost:1111/data",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}}).then(function(e){var a=e.data.data;a.forEach(function(e,t){a[t].image="data:image/jpeg;base64,"+a[t].image}),t(ae(a));var n=e.data.newToken.split(" ")[1];t(ke(Object(d.a)({},j,{currentToken:n})))}),H(!1);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){X()},[O]);var ee=function(t){z.map(function(a){a.id===t&&e("/product/".concat(a.id))})},te=function(e,n){var r,i=a.findIndex(function(t){return t.id===e});switch(r=i>=0&&1===a[i].quantity,N(r,n,i)){case"create":t($({id:e,quantity:1}));break;case"addQuantity":t(V({index:i}));break;case"remove":t(U({index:i}));break;case"reduceQuantity":t(Y({index:i}))}},ne=function(e){var t=c.find(function(t){return t.id===e}),n=a.find(function(t){return t.id===e});return t&&n?t.price*n.quantity:0};return i.a.createElement("div",null,J?i.a.createElement(h.a,{color:"success",sx:{pl:10,pt:10}}):i.a.createElement(g.a,{container:!0,wrap:"nowrap",columns:2,sx:{pt:12}},i.a.createElement(E.a,{sx:{minWidth:{md:"300px"}}},i.a.createElement(x.a,{sx:{width:"-webkit-fill-available",mx:3}},i.a.createElement(b.a,null,"Sort"),i.a.createElement(y.a,{value:R,label:"Sort",onChange:function(e){A(e.target.value)}},i.a.createElement(v.a,{value:""},"None"),i.a.createElement(v.a,{value:"fromCheap"},"First lowest price"),i.a.createElement(v.a,{value:"fromExp"},"First highest price"),i.a.createElement(v.a,{value:"fromAtoZ"},"From A to Z"),i.a.createElement(v.a,{value:"fromZtoA"},"From Z to A"))),i.a.createElement(ye,null),i.a.createElement(E.a,{sx:{display:{md:"none"},mx:3,mt:2}},i.a.createElement(Be,null))),i.a.createElement(E.a,null,0===z.length?i.a.createElement(E.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",pt:"20%",pl:"100px"}},i.a.createElement(ze.a,{sx:{width:"4em",height:"4em"}}),i.a.createElement(w.a,{sx:{fontSize:24}},"There is no such items")):i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{container:!0,spacing:6,sx:{display:"box"}},z.slice(W,B).map(function(e,t){return i.a.createElement(g.a,{item:!0,key:z[t].id},i.a.createElement(q,Object.assign({changeTotalValue:te},e,{goProduct:ee,itemTotalPrice:ne})))})),i.a.createElement(g.a,{sx:{display:"flex",flexWrap:"nowrap",mt:3,mb:6,height:"36px",width:"580px"}},i.a.createElement(E.a,{sx:{display:"flex",width:"auto"}},1!==S?i.a.createElement(k.a,{onClick:G},"\u2190"):i.a.createElement(k.a,{disabled:!0},"\u2190"),Object(p.a)(Array(Z).keys()).map(function(e){return i.a.createElement(k.a,{onClick:function(){return Q(e+1)},key:e,variant:e+1===S?"contained":"text"},e+1)}),S!==Z?i.a.createElement(k.a,{onClick:F},"\u2192"):i.a.createElement(k.a,{disabled:!0},"\u2192")),i.a.createElement(E.a,{sx:{display:"flex"}},i.a.createElement(w.a,{alignSelf:"center",whiteSpace:"pre",marginRight:1},"Items per page"),i.a.createElement(k.a,{onClick:function(){t(Re(12)),t(Ie(1)),e("/")},variant:12===P?"contained":"text"},"12"),i.a.createElement(k.a,{onClick:function(){return t(Re(4))},variant:4===P?"contained":"text",sx:{mr:{xs:2}}},"4")))))))},Fe=a(496),qe=a(538),Ge=a(495),Qe=a(539),Ze=a(540),$e=a(541),Ue=a(236),Ve=a.n(Ue),Ye=function(e){var t=e.title,a=e.changeTotalValue,n=e.id,c=e.image,l=e.itemTotalPrice,o=e.goProduct,u=Object(r.useState)(!1),s=Object(f.a)(u,2),d=s[0],m=s[1],p=L(),h=M(function(e){var t=e.persistedReducer.cartSlice.find(function(e){return e.id===n});return t?t.quantity:0});return i.a.createElement(j.a,null,i.a.createElement(de.a,{sx:{width:700,margin:"auto",padding:0,flexDirection:"row",display:"flex"}},i.a.createElement(me.a,{sx:{width:"auto",justifyContent:"center"}},i.a.createElement(k.a,{onClick:function(){o(n)}},i.a.createElement("img",{id:"base64image",width:80,height:80,src:c}))),i.a.createElement(me.a,{sx:{width:200,justifyContent:"center"}},i.a.createElement(P.a,{title:t,placement:"top"},i.a.createElement(w.a,{sx:{fontWeight:"bold"}},t))),i.a.createElement(me.a,{sx:{width:200,justifyContent:"center"}},h>0?i.a.createElement(E.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement(k.a,{variant:"text",onClick:function(){a(n,!1)}},"+"),i.a.createElement(E.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},i.a.createElement("span",null,h),i.a.createElement("span",null,l(n),"$")),i.a.createElement(k.a,{variant:"text",onClick:function(){a(n,!0)}},"-")):i.a.createElement(k.a,{variant:"contained",onClick:function(){a(n,!1)}},"Add to cart")),i.a.createElement(me.a,{sx:{width:200,justifyContent:"center"}},i.a.createElement(P.a,{title:"Delete",placement:"top"},i.a.createElement(T.a,{onClick:function(){return m(!0)}},i.a.createElement(Ve.a,null))))),i.a.createElement(qe.a,{open:d,onClose:function(){m(!1)},"aria-describedby":"alert-dialog-slide-description"},i.a.createElement(Ge.a,null,"Delete"),i.a.createElement(Qe.a,null,i.a.createElement(Ze.a,{id:"alert-dialog-slide-description"},"Are you sure you want to remove this item from the cart?")),i.a.createElement($e.a,null,i.a.createElement(k.a,{autoFocus:!0,onClick:function(){return p(_())}},"Yes"),i.a.createElement(k.a,{onClick:function(){return m(!1)}},"Cancel"))))},_e=function(){var e=Object(o.g)(),t=L(),a=M(function(e){return e.persistedReducer.dataSlice.data}),n=M(function(e){return e.persistedReducer.cartSlice}),r=function(e,a){var r,i=n.findIndex(function(t){return t.id===e});switch(r=i>=0&&1===n[i].quantity,N(r,a,i)){case"create":t($({id:e,quantity:1}));break;case"addQuantity":t(V({index:i}));break;case"remove":t(U({index:i}));break;case"reduceQuantity":t(Y({index:i}))}},c=function(e){var t=a.find(function(t){return t.id===e}),r=n.find(function(t){return t.id===e});return t&&r?t.price*r.quantity:0},l=function(t){a.map(function(a){a.id===t&&e("/product/".concat(a.id))})};return i.a.createElement("div",null,i.a.createElement(w.a,{sx:{mt:12,mb:4,textAlign:"center"},variant:"h3",component:"div"},"Your cart:"),i.a.createElement(de.a,{sx:{width:700,margin:"auto"}},a.map(function(e,t){return n=e.id,M(function(e){var t=e.persistedReducer.cartSlice.find(function(e){return e.id===n});return t?t.quantity:0})?i.a.createElement(i.a.Fragment,{key:"order-item-".concat(a[t].id)},i.a.createElement(me.a,null,i.a.createElement(Ye,Object.assign({key:a[t].id,changeTotalValue:r},e,{itemTotalPrice:c,goProduct:l}))),i.a.createElement(Fe.a,null)):null;var n})),i.a.createElement(w.a,{sx:{fontSize:24,textAlign:"center",fontWeight:"bold",my:4}},"Total: ",function(){var e=0;return n.forEach(function(t){var n=a.find(function(e){return e.id===t.id});n&&t.quantity&&(e+=n.price*t.quantity)}),e}()," $"))},Ke=a(4),Je=a(27),He=a(513),Xe=a(542),et=a(510),tt=a(507),at=a(497),nt=a(498),rt=a(93),it=a.n(rt),ct=(a(430),a(237)),lt=a(154),ot=a(92).default,ut="20193487866-88r5prmk0l03f52dsel598o3ts2udeti.apps.googleusercontent.com",st=function(){var e=Object(o.g)(),t=L(),a=Object(Je.a)(),c=Object(r.useState)(""),l=Object(f.a)(c,2),u=l[0],p=l[1],h=Object(r.useState)({nameOrEmail:"",password:""}),g=Object(f.a)(h,2),x=g[0],b=g[1],y=function(e,t){b(Object(d.a)({},x,Object(Ke.a)({},"".concat(t),e))),p("")},v=Object(r.useState)(!1),O=Object(f.a)(v,2),C=O[0],S=O[1];Object(r.useEffect)(function(){lt.a.load("client:auth2",function(){lt.a.auth2.init({clientId:ut,scope:""})})},[]);var P=function(){var e=Object(m.a)(s.a.mark(function e(a){var n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.googleId,r=a.wt.Ad,i=a.profileObj.email,ot.post("http://localhost:1111/googlelogin",{google_id:n,name:r,email:i}).then(function(e){var a=e.data.token,i=it.a.verify(a,"secretKey1");delete i.exp,delete i.iat,t(ke({id:n,name:r,currentToken:a,isAuth:!0}))}).catch(function(e){p(e.response.data.error.message)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(E.a,{sx:{justifyContent:"center",display:"grid",pt:{md:15,xs:4}}},i.a.createElement(j.a,{variant:"elevation",raised:!0,sx:{maxWidth:"400px",display:"flex",flexDirection:"column"}},i.a.createElement(w.a,{sx:{display:"flex",alignItems:"center",fontSize:22,mt:3,justifyContent:"center"}},"Hello! You need to sign in."),i.a.createElement(E.a,{sx:{margin:5,mt:0,display:"grid"}},i.a.createElement(w.a,{variant:"h6",sx:{m:2,ml:0}},"E-mail"),i.a.createElement(He.a,{id:"email",variant:"outlined",label:"Type your e-mail",onChange:function(e){return y(e.target.value,"nameOrEmail")},value:x.nameOrEmail,error:!!u,inputProps:{style:{WebkitBoxShadow:"0 0 0 1000px ".concat(a.palette.background.default," inset")}}}),i.a.createElement(w.a,{variant:"h6",sx:{m:2,ml:0}},"Password"),i.a.createElement(He.a,{id:"password",type:C?"text":"password",label:"Type your password",onChange:function(e){return y(e.target.value,"password")},value:x.password,error:!!u,inputProps:{style:{WebkitBoxShadow:"0 0 0 1000px ".concat(a.palette.background.default," inset")}},InputProps:{endAdornment:i.a.createElement(Xe.a,{position:"end"},i.a.createElement(T.a,{"aria-label":"toggle password visibility",onClick:function(){return S(!C)},onMouseDown:function(){return S(!C)}},C?i.a.createElement(at.a,null):i.a.createElement(nt.a,null)))}}),i.a.createElement(et.a,{open:!!u,key:u,anchorOrigin:{vertical:"top",horizontal:"right"}},i.a.createElement(tt.a,{severity:"error",variant:"filled"},u)),i.a.createElement(k.a,{variant:"contained",onClick:function(){ot.post("http://localhost:1111/login",{login:x.nameOrEmail.split(" ").join(""),password:x.password}).then(function(e){var a=e.data.token,n=it.a.verify(a,"secretKey1");delete n.exp,delete n.iat;var r=n.name,i=n.id;t(ke({id:i,name:r,currentToken:a,isAuth:!0}))}).catch(function(e){p(e.response.data.error.message)})},size:"large",sx:{margin:2,mt:4}},"Sign in"),i.a.createElement(E.a,{sx:{margin:2,mt:0,display:"grid"}},i.a.createElement(ct.GoogleLogin,{clientId:ut,buttonText:"Sign in with Google",onSuccess:P,onFailure:function(e){p(e.response.data.error.message)},cookiePolicy:"single_host_origin"})),i.a.createElement(Fe.a,{sx:{display:"flex",alignItems:"flex-start"}},"or"),i.a.createElement(k.a,{variant:"contained",onClick:function(){e(n.REGISTRATION)},size:"large",sx:{margin:2}},"Sign up"))))},dt=function(){var e=Object(o.h)(),t=M(function(e){return e.persistedReducer.dataSlice.data}).find(function(t){return t.id===e.productID});return i.a.createElement("div",null,i.a.createElement(j.a,{raised:!0,sx:{maxWidth:700,mt:12,mb:4,ml:{md:10},mx:{xs:3}}},i.a.createElement(S.a,null,i.a.createElement(w.a,{variant:"h4",sx:{fontWeight:"bold"}},t.title)),i.a.createElement(S.a,{sx:{display:{md:"-webkit-inline-box",xs:"flex"},flexDirection:{xs:"column"},alignItems:{xs:"center"},WebkitBoxAlign:{md:"start"}}},i.a.createElement("img",{id:"base64image",width:200,height:200,src:t.image}),i.a.createElement(C.a,{sx:{maxWidth:"400px",display:{md:"block",xs:"contents"},padding:0,pl:"20px"}},i.a.createElement(w.a,{sx:{fontWeight:"bold",mb:4,mt:{xs:4,md:0}}},"Description:"),i.a.createElement(w.a,{sx:{textAlign:"justify",mb:4}},t.description),i.a.createElement(w.a,{sx:{textAlign:"justify"}},"Made of: ",t.material.join(", ")))),i.a.createElement(S.a,null,t.price,"$")))},mt=a(155),pt=a.n(mt),ft=pt.a.genSaltSync(10),ht=function(){var e=Object(o.g)(),t=L(),a=Object(Je.a)(),c=Object(r.useState)(""),l=Object(f.a)(c,2),u=l[0],s=l[1],m=Object(r.useState)({name:"",email:"",password:"",passwordCheck:""}),p=Object(f.a)(m,2),h=p[0],g=p[1],x=function(e,t){g(Object(d.a)({},h,Object(Ke.a)({},"".concat(t),e)))},b=Object(r.useState)(!1),y=Object(f.a)(b,2),v=y[0],O=y[1],C=Object(r.useState)(!1),S=Object(f.a)(C,2),P=S[0],I=S[1],R=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},A=function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(e)},M=Object(r.useState)({name:!1,email:!1,password:!1,passwordCheck:!1}),z=Object(f.a)(M,2),D=z[0],W=z[1],B=function(e,t){W(Object(d.a)({},D,Object(Ke.a)({},e,t)))};return i.a.createElement(E.a,{sx:{justifyContent:"center",display:"grid",pt:8,mx:{xs:0,md:3}}},i.a.createElement(w.a,{variant:"h4",sx:{textAlign:"center"}},"Welcome!"),i.a.createElement(j.a,{variant:"elevation",raised:!0,sx:{height:"auto",width:"400px",display:"flex",flexDirection:"column"}},i.a.createElement(E.a,{sx:{margin:6,mb:1,display:"grid"}},i.a.createElement(w.a,{variant:"h6",sx:{m:1,ml:0,mb:0}},"Name"),i.a.createElement(w.a,{sx:{m:2,ml:0,color:"grey",mt:0,fontStyle:"italic"}},"(at least 5 symbols)"),i.a.createElement(He.a,{id:"name",variant:"outlined",label:"Name",onChange:function(e){x(e.target.value,"name")},error:!0===D.name&&h.name.length<5,onBlur:function(){B("name",!0)},value:h.name,inputProps:{style:{backgroundColor:a.palette.action.hover}}}),!0===D.name&&h.name.length<5?i.a.createElement(tt.a,{severity:"error"},"Invalid name"):i.a.createElement(E.a,{sx:{height:"48px"}}),i.a.createElement(w.a,{variant:"h6",sx:{m:1,ml:0}},"E-mail"),i.a.createElement(He.a,{id:"email",variant:"outlined",label:"Type your E-mail",onChange:function(e){x(e.target.value,"email")},error:!0===D.email&&!R(h.email),onBlur:function(){B("email",!0)},value:h.email,inputProps:{style:{backgroundColor:a.palette.action.hover}}}),!0!==D.email||R(h.email)?i.a.createElement(E.a,{sx:{height:"48px"}}):i.a.createElement(tt.a,{severity:"error"},"Invalid email"),i.a.createElement(w.a,{variant:"h6",sx:{m:1,ml:0,mb:0}},"Password"),i.a.createElement(w.a,{sx:{m:1,ml:0,color:"grey",mt:0,fontStyle:"italic"}},"(at least 8 symbols)"),i.a.createElement(He.a,{id:"password",variant:"outlined",type:v?"text":"password",onChange:function(e){x(e.target.value,"password")},value:h.password,label:"Password",onBlur:function(){B("password",!0)},error:D.password&&!A(h.password),inputProps:{style:{backgroundColor:a.palette.action.hover}},InputProps:{endAdornment:i.a.createElement(Xe.a,{position:"end"},i.a.createElement(T.a,{"aria-label":"toggle password visibility",onClick:function(){return O(!v)},onMouseDown:function(){return O(!v)}},v?i.a.createElement(at.a,null):i.a.createElement(nt.a,null)))}}),i.a.createElement(w.a,{variant:"h6",sx:{m:1,ml:0}},"Repeat password"),i.a.createElement(He.a,{id:"passwordCheck",variant:"outlined",type:P?"text":"password",onChange:function(e){x(e.target.value,"passwordCheck")},value:h.passwordCheck,label:"Password Check",error:D.passwordCheck&&!A(h.passwordCheck),onBlur:function(){B("passwordCheck",!0)},inputProps:{style:{backgroundColor:a.palette.action.hover}},InputProps:{endAdornment:i.a.createElement(Xe.a,{position:"end"},i.a.createElement(T.a,{"aria-label":"toggle password visibility",onClick:function(){return I(!P)},onMouseDown:function(){return I(!P)}},P?i.a.createElement(at.a,null):i.a.createElement(nt.a,null)))}}),h.password.length>0&&h.passwordCheck.length>0&&!A(h.password)&&(D.passwordCheck||D.password)?i.a.createElement(tt.a,{severity:"error"},"Invalid password"):D.password&&h.password!==h.passwordCheck&&h.password.length>0&&h.passwordCheck.length>0?i.a.createElement(tt.a,{severity:"error"},"Both fields should be identical"):A(h.password)&&A(h.passwordCheck)&&h.password===h.passwordCheck?i.a.createElement(tt.a,{severity:"success"},"Password is Ok"):i.a.createElement(E.a,{sx:{height:"48px"}})),i.a.createElement(k.a,{variant:"contained",disabled:!R(h.email)||!A(h.password)||h.passwordCheck!==h.password||h.name.length<5,onClick:function(){Se.a.post("http://localhost:1111/registration",{name:h.name.split(" ").join(""),email:h.email.split(" ").join(""),password:pt.a.hashSync(h.password,ft)}).then(function(e){var a=e.data.token,n=it.a.verify(a,"secretKey1");delete n.exp,delete n.iat;var r=n.name,i=n.id;t(ke({id:i,name:r,currentToken:a,isAuth:!0}))}).catch(function(e){s(e.response.data.error.message)})},color:"primary",size:"large",sx:{mx:2}},"Create an account"),i.a.createElement(k.a,{variant:"contained",onClick:function(){e(n.LOGIN)},color:"success",size:"large",sx:{m:2,mb:0}},"I already have an account"),i.a.createElement(et.a,{open:!!u,key:u,anchorOrigin:{vertical:"top",horizontal:"right"}},i.a.createElement(tt.a,{severity:"error",variant:"filled"},u)),A(h.password)&&A(h.passwordCheck)||!D.password?i.a.createElement(E.a,{sx:{height:"68px"}}):i.a.createElement(tt.a,{severity:"info"},"The password should contain at least one uppercase letter, one lowercase letter and one digit")))},gt=a(3),Et=a(471),xt=a(523),bt=a(107),yt=a(241),vt=a.n(yt),wt=a(543),kt=a(518),Ot=a(240),jt=a.n(Ot),Ct=a(238),St=a.n(Ct),Pt=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)(function(){setInterval(function(){n((new Date).toLocaleTimeString())},1e3)}),i.a.createElement(w.a,{component:"div",sx:{mr:3,display:{lg:"block",xs:"none"}}},(new Date).toLocaleDateString()," ",a)};var Tt=function(e,t){var a=Object(r.useState)(e),n=Object(f.a)(a,2),i=n[0],c=n[1];return Object(r.useEffect)(function(){var a=setTimeout(function(){return c(e)},t||500);return function(){clearTimeout(a)}},[e,t]),i},It=a(239),Rt=a.n(It),At=Object(G.b)({name:"theme",initialState:{mode:"light"},reducers:{currentTheme:function(e,t){e.mode=t.payload}}}),Lt=At.actions.currentTheme,Mt=At.reducer,zt=Object(gt.a)("div")(function(e){var t=e.theme;return Object(Ke.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Et.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(Et.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("xs"),{marginLeft:t.spacing(1),width:"auto"})}),Dt=Object(gt.a)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),Wt=Object(gt.a)(bt.c)(function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),width:"100%"}}}),Bt=function(){var e=M(function(e){return e.persistedReducer.pageSlice.page}),t=M(function(e){return e.persistedReducer.themeSlice.mode}),a=Object(o.f)(),i=Object(o.g)(),c=L(),l=M(function(e){return e.persistedReducer.tokenSlice}),u=Object(r.useState)(""),s=Object(f.a)(u,2),d=s[0],m=s[1],p=Tt(d,1e3);Object(r.useEffect)(function(){c(ce(d))},[p]);var h=Object(r.useState)(!1),g=Object(f.a)(h,2),x=g[0],b=g[1],y=function(){c(K()),c(le()),c(Oe()),b(!1)};return"/"!==a.pathname&&"/registration"!==a.pathname?r.createElement(wt.a,{className:"_header",position:"fixed"},r.createElement(xt.a,null,r.createElement(T.a,{onClick:function(){c(Lt("dark"===t?"light":"dark"))}},"light"===t?r.createElement(St.a,{color:"action"}):r.createElement(Rt.a,null)),a.pathname!=="/catalogue/page=".concat(e)?r.createElement(T.a,{"aria-label":"home",onClick:function(){i(n.LOGIN)}},r.createElement(jt.a,{fontSize:"large"})):null,r.createElement(kt.a,{component:"button",onClick:y}),r.createElement(w.a,{variant:"h6",component:"div",sx:{flexGrow:1,mx:3}},function(){switch(a.pathname){case"/catalogue/page=".concat(e):return"Catalogue";case"/order":return"Order";default:return"Product"}}()),r.createElement(Pt,null),r.createElement(E.a,{sx:{display:{xs:"none",md:"flex"}}},r.createElement(Be,null)),r.createElement(E.a,{sx:{display:"flex"}},a.pathname==="/catalogue/page=".concat(e)?r.createElement(zt,null,r.createElement(Dt,null,r.createElement(vt.a,null)),r.createElement(Wt,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onChange:function(e){m(e.target.value)},value:d,autoFocus:!0})):null,r.createElement(E.a,{sx:{display:"flex",flexDirection:"row",maxWidth:"300px"}},r.createElement(w.a,{variant:"h6",sx:{display:"flex",alignItems:"center",ml:4,overflow:"hidden"}},l.name),r.createElement(kt.a,{component:"button",onClick:function(){b(!0)},sx:{color:"white",mx:1,whiteSpace:"nowrap"}}," (Log out)"),r.createElement(qe.a,{disableScrollLock:!0,open:x,onClose:function(){b(!1)},"aria-describedby":"alert-dialog-log-out"},r.createElement(Ge.a,null,"Are you sure you want to leave?"),r.createElement($e.a,null,r.createElement(k.a,{autoFocus:!0,onClick:y},"Yes"),r.createElement(k.a,{onClick:function(){return b(!1)}},"Cancel"))))))):null},Nt=a(519),Ft=a(499);function qt(){var e=M(function(e){return e.persistedReducer.tokenSlice}).isAuth,t=M(function(e){return e.persistedReducer.pageSlice.page}),a=M(function(e){return e.persistedReducer.themeSlice.mode}),r=Object(O.a)(B(a));return i.a.createElement(Nt.a,{theme:r},i.a.createElement(Ft.a,null),i.a.createElement(Bt,null),i.a.createElement(o.d,null,i.a.createElement(o.b,{path:n.LOGIN,element:e?i.a.createElement(o.a,{to:"/catalogue/page=".concat(t),replace:!0}):i.a.createElement(st,null)}),i.a.createElement(o.b,{path:n.REGISTRATION,element:e?i.a.createElement(o.a,{to:"/catalogue/page=".concat(t),replace:!0}):i.a.createElement(ht,null)}),i.a.createElement(o.b,{path:"".concat(n.CATALOGUE,"/page=").concat(t),element:e?i.a.createElement(Ne,null):i.a.createElement(o.a,{to:"/",replace:!0})}),i.a.createElement(o.b,{path:n.ORDER,element:e?i.a.createElement(_e,null):i.a.createElement(o.a,{to:"/",replace:!0})}),i.a.createElement(o.b,{path:"".concat(n.PRODUCT,"/:productID"),element:e?i.a.createElement(dt,null):i.a.createElement(o.a,{to:"/",replace:!0})})))}var Gt=a(242),Qt=a(40),Zt=a(243),$t=a.n(Zt),Ut=a(156),Vt={key:"root",storage:$t.a,version:1},Yt=Object(Qt.b)({cartSlice:J,dataSlice:oe,tokenSlice:je,pageSlice:Ae,themeSlice:Mt}),_t=Object(Ut.a)(Vt,Yt),Kt=Object(G.a)({reducer:{persistedReducer:_t}}),Jt=Object(Ut.b)(Kt),Ht=a(244),Xt=document.getElementById("root");Object(Gt.createRoot)(Xt).render(i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{store:Kt},i.a.createElement(Ht.a,{loading:null,persistor:Jt},i.a.createElement(c.a,null,i.a.createElement(qt,null)))))),l()},71:function(e,t,a){}},[[266,3,2]]]);
//# sourceMappingURL=main.c8f443af.chunk.js.map